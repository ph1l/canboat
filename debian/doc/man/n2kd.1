.\"                                      Hey, EMACS: -*- nroff -*-
.\" (C) Copyright 2019 Philip J. Freeman <elektron@halo.nu>,
.\"
.TH N2KD 1 "February  2 2019"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
n2kd \- NMEA streaming network data server
.SH SYNOPSIS
.B n2kd
[-d] [-q] [-o] [-r] [--src-filter <srclist>] [--rate-limit] [-p <port>] | -version
.SH DESCRIPTION
This manual page documents briefly the
.B n2kd
command.
.PP
.B n2kd
is a program that reads parsed output from analyzer in json format, stores it
and then sends it on to TCP clients, still in json format, and also converts
some PGNs to a NMEA0183 data stream accessible over TCP.
.TP
It provides three distinct TCP servers:
.TP
1) A caching JSON server that provides a single snapshot of the latest received data of all PGNs, in fully valid JSON format. The default port number is 2597 and can be overruled with -p.
.TP
2) A streaming JSON server. The client continuously receives JSON messages as they are received by n2kd. The port number is always one higher than the AJAX server. This server is useful for clients that are able to keep an open TCP socket and are interested in changes in values and need to respond immediately.
.TP
3) A NMEA0183 stream. Certain PGNs received are translated into NMEA0183 ASCII stream. The port number is always two higher than the AJAX server.
.SH OPTIONS
A summary of options is included below.
.TP
.B \-d
debug mode
.TP
.B \-q
quiet mode
.TP
.B \-o
output mode, send all TCP client data to stdout (as well as stdin)
.TP
.B \-r
restrict mode, send no data to stdout
.TP
.B \-\-src-filter SRCLIST
restrict NMEA0183 stream to particular N2K sources
.TP
.B \-\-rate-limit
restrict NMEA0183 stream to one message per source per second
.TP
.B \-p PORT_NUMBER
Set beginning port number for the three TCP services.
.TP
.B \-version
Print the version
.SH SEE ALSO
.BR actisense-serial (1),
.BR analyzer (1).
.br
The program is documented fully by the GitHub project Wiki, here:
https://github.com/canboat/canboat/wiki/n2kd
